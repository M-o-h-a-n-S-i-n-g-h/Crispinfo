{"version":3,"sources":["admin/UpdatePost.js","apicalls/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","admin/Navigation.js","Core/Base.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"names":["UpdatePost","id","match","params","useState","title","author","description","markdown","fields","setFields","useEffect","loadPost","a","getPostById","then","data","console","log","catch","err","handleChange","inputValues","event","target","value","onSubmit","preventDefault","updatePost","response","className","htmlFor","type","placeholder","onChange","style","height","createPost","fetch","method","headers","body","JSON","stringify","json","createCategory","category","getAllPosts","getCategories","abortController","AbortController","signal","deletePost","getCategoryById","getCatePosts","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable","withRouter","to","Base","children","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties"],"mappings":"kMA4HeA,UAxHI,SAAC,GAAe,IACzBC,EADwB,EAAZC,MACCC,OAAbF,GADwB,EAEJG,mBAAS,CACnCC,MAAO,GACPC,OAAQ,GACRC,YAAa,GACbC,SAAU,KANoB,mBAEzBC,EAFyB,KAEjBC,EAFiB,KAQxBL,EAAyCI,EAAzCJ,MAAOC,EAAkCG,EAAlCH,OAAQC,EAA0BE,EAA1BF,YAAaC,EAAaC,EAAbD,SAEpCG,qBAAU,WACRC,MACC,IAEH,IAAMA,EAAQ,uCAAG,sBAAAC,EAAA,sDACfC,sBAAYb,GACTc,MAAK,SAACC,GACDA,EACFN,EAAU,CACRL,MAAOW,EAAKX,MACZC,OAAQU,EAAKV,OACbC,YAAaS,EAAKT,YAClBC,SAAUQ,EAAKR,WAGjBS,QAAQC,IAAI,6BAGfC,OAAM,SAACC,GACNH,QAAQC,IAAIE,MAfD,2CAAH,qDAmBRC,EAAe,SAACC,GAAD,OAAiB,SAACC,GACrCb,EAAU,2BACLD,GADI,kBAENa,EAAcC,EAAMC,OAAOC,WAI1BC,EAAW,SAACH,GAChBA,EAAMI,iBACNC,qBAAW,CAAEnB,UAAUR,GACpBc,MAAK,SAACc,GACDA,GACFZ,QAAQC,IAAI,yBACZR,EAAU,CACRL,MAAO,GACPC,OAAQ,GACRC,YAAa,GACbC,SAAU,MAGZS,QAAQC,IAAI,4BAGfC,OAAM,SAACC,GAAD,OAASH,QAAQC,IAAIE,OAyDhC,OACE,kBAAC,IAAD,CAAMf,MAAM,mBAAmBE,YAAY,sBACzC,yBAAKuB,UAAU,uBAtDf,6BACE,0BAAMJ,SAAUA,GACd,yBAAKI,UAAU,cACb,2BAAOC,QAAQ,yBAAf,UACA,2BACEC,KAAK,OACLP,MAAOnB,EACPwB,UAAU,eACVG,YAAY,eACZC,SAAUb,EAAa,aAG3B,yBAAKS,UAAU,cACb,2BAAOC,QAAQ,yBAAf,SACA,2BACEC,KAAK,OACLP,MAAOpB,EACPyB,UAAU,eACVG,YAAY,QACZC,SAAUb,EAAa,YAG3B,yBAAKS,UAAU,cACb,2BAAOC,QAAQ,yBAAf,eACA,2BACEC,KAAK,OACLP,MAAOlB,EACPuB,UAAU,eACVG,YAAY,cACZC,SAAUb,EAAa,kBAG3B,yBAAKS,UAAU,cACb,2BAAOC,QAAQ,yBAAf,YACA,8BACEI,MAAO,CAAEC,OAAQ,QACjBJ,KAAK,OACLP,MAAOjB,EACPsB,UAAU,eACVG,YAAY,mBACZC,SAAUb,EAAa,eAI3B,4BAAQS,UAAU,kBAAkBE,KAAK,UAAzC,gB,udC7GGK,EAAU,uCAAG,aAAmBpC,GAAnB,iBAAAY,EAAA,6DAASJ,EAAT,EAASA,OAAT,kBAEC6B,MAAM,aAAD,OAAcrC,EAAd,WAA2B,CACrDsC,OAAQ,OACRC,QAAS,CACP,OAAU,mBACV,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUlC,KARD,cAEhBoB,EAFgB,yBAUfA,EAASe,QAVM,yDAYf3B,QAAQC,IAAR,OAZe,yDAAH,wDAgBV2B,EAAc,uCAAG,WAAOC,GAAP,eAAAjC,EAAA,+EAEHyB,MAAM,uBAAwB,CACnDC,OAAQ,OACRC,QAAS,CACP,OAAU,mBACV,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUG,KARG,cAEpBjB,EAFoB,OAU1BZ,QAAQC,IAAIW,GAVc,kBAWnBA,EAASe,QAXU,yDAanB3B,QAAQC,IAAR,OAbmB,yDAAH,sDAiBd6B,EAAW,uCAAG,4BAAAlC,EAAA,+EAEAyB,MAAM,YAAa,CACxCC,OAAQ,QAHa,cAEjBV,EAFiB,yBAKhBA,EAASe,QALO,gCAOvB3B,QAAQC,IAAI,UAAZ,MAPuB,yDAAH,qDAWX8B,EAAa,uCAAG,8BAAAnC,EAAA,6DACrBoC,EAAkB,IAAIC,gBADD,kBAGFZ,MACrB,qBACA,CACEC,OAAQ,OAEV,CAAEY,OAAQF,EAAgBE,SARH,cAGnBtB,EAHmB,yBAUlBA,EAASe,QAVS,gCAYzB3B,QAAQC,IAAR,MAZyB,yDAAH,qDAgBbJ,EAAW,uCAAG,WAAOb,GAAP,eAAAY,EAAA,+EAEAyB,MAAM,aAAD,OAAcrC,GAAM,CAC9CsC,OAAQ,QAHa,cAEjBV,EAFiB,OAKvBZ,QAAQC,IAAIW,GALW,kBAMhBA,EAASe,QANO,gCAQvB3B,QAAQC,IAAR,MARuB,yDAAH,sDAYXU,EAAU,uCAAG,aAAmB3B,GAAnB,iBAAAY,EAAA,6DAASJ,EAAT,EAASA,OAAT,kBAEC6B,MAAM,oBAAD,OAAqBrC,GAAM,CACrDsC,OAAQ,MACRC,QAAS,CACP,OAAU,mBACV,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUlC,KARD,cAEhBoB,EAFgB,OAUtBZ,QAAQC,IAAIW,GAVU,kBAWfA,EAASe,QAXM,yDAaf3B,QAAQC,IAAR,OAbe,yDAAH,wDAiBVkC,EAAU,uCAAG,WAAOnD,GAAP,eAAAY,EAAA,+EAECyB,MAAM,oBAAD,OAAqBrC,GAAM,CACrDsC,OAAQ,WAHY,cAEhBV,EAFgB,yBAKfA,EAASe,QALM,yDAOf3B,QAAQC,IAAR,OAPe,yDAAH,sDAWVmC,EAAe,uCAAG,WAAOpD,GAAP,eAAAY,EAAA,+EAEJyB,MAAM,iBAAD,OAAkBrC,GAAM,CAClDsC,OAAQ,QAHiB,cAErBV,EAFqB,yBAKpBA,EAASe,QALW,yDAOpB3B,QAAQC,IAAR,OAPoB,yDAAH,sDAWfoC,EAAY,uCAAG,WAAOrD,GAAP,eAAAY,EAAA,+EAEDyB,MAAM,iBAAD,OAAkBrC,EAAlB,UAA8B,CACxDsC,OAAQ,QAHc,cAElBV,EAFkB,yBAKjBA,EAASe,QALQ,gCAOxB3B,QAAQC,IAAR,MAPwB,yDAAH,uD,gCC/GV,SAASqC,EAAgBC,EAAKC,EAAKhC,GAYhD,OAXIgC,KAAOD,EACTE,OAAOC,eAAeH,EAAKC,EAAK,CAC9BhC,MAAOA,EACPmC,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZN,EAAIC,GAAOhC,EAGN+B,EAZT,mC,mECoBeO,eAjBI,kBACjB,yBAAKjC,UAAU,WACb,wBAAIA,UAAU,wBACZ,wBAAIA,UAAU,YACZ,kBAAC,IAAD,CAAMA,UAAU,wBAAwBkC,GAAG,KAA3C,SAIF,wBAAIlC,UAAU,YACZ,kBAAC,IAAD,CAAMA,UAAU,wBAAwBkC,GAAG,oBAA3C,qBCeOC,IAxBF,SAAC,GAAD,QACX5D,aADW,MACH,WADG,MAEXE,mBAFW,MAEG,iBAFH,MAGXuB,iBAHW,MAGC,yBAHD,EAIXoC,EAJW,EAIXA,SAJW,OAMX,yBAAKpC,UAAU,WACb,kBAAC,EAAD,MACA,6BACE,yBAAKA,UAAU,4CACb,wBAAIA,UAAU,aAAazB,GAC3B,uBAAGyB,UAAU,QAAQvB,GACrB,yBAAKuB,UAAWA,GAAYoC,IAE9B,4BAAQpC,UAAU,wBAChB,yBAAKA,UAAU,qDACb,0EACA,4BAAQA,UAAU,8BAAlB,mB,gCCpBV,8CAEA,SAASqC,EAAQC,EAAQC,GACvB,IAAIC,EAAOZ,OAAOY,KAAKF,GAEvB,GAAIV,OAAOa,sBAAuB,CAChC,IAAIC,EAAUd,OAAOa,sBAAsBH,GACvCC,IAAgBG,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOhB,OAAOiB,yBAAyBP,EAAQM,GAAKd,eAEtDU,EAAKM,KAAKC,MAAMP,EAAME,GAGxB,OAAOF,EAGM,SAASQ,EAAetD,GACrC,IAAK,IAAIuD,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAE/CA,EAAI,EACNZ,EAAQT,OAAOwB,IAAS,GAAMC,SAAQ,SAAU1B,GAC9C,YAAejC,EAAQiC,EAAKyB,EAAOzB,OAE5BC,OAAO0B,0BAChB1B,OAAO2B,iBAAiB7D,EAAQkC,OAAO0B,0BAA0BF,IAEjEf,EAAQT,OAAOwB,IAASC,SAAQ,SAAU1B,GACxCC,OAAOC,eAAenC,EAAQiC,EAAKC,OAAOiB,yBAAyBO,EAAQzB,OAKjF,OAAOjC","file":"static/js/5.d72bb5f0.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Base from \"../Core/Base\";\r\nimport { updatePost, getPostById } from \"../apicalls/index\";\r\n\r\nconst UpdatePost = ({ match }) => {\r\n  const { id } = match.params;\r\n  const [fields, setFields] = useState({\r\n    title: \"\",\r\n    author: \"\",\r\n    description: \"\",\r\n    markdown: \"\",\r\n  });\r\n  const { title, author, description, markdown } = fields;\r\n\r\n  useEffect(() => {\r\n    loadPost();\r\n  }, []);\r\n\r\n  const loadPost = async () => {\r\n    getPostById(id)\r\n      .then((data) => {\r\n        if (data) {\r\n          setFields({\r\n            title: data.title,\r\n            author: data.author,\r\n            description: data.description,\r\n            markdown: data.markdown,\r\n          });\r\n        } else {\r\n          console.log(\"ERROR IN FETCHING DATA\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const handleChange = (inputValues) => (event) => {\r\n    setFields({\r\n      ...fields,\r\n      [inputValues]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    updatePost({ fields }, id)\r\n      .then((response) => {\r\n        if (response) {\r\n          console.log(\"SUCCESSFULLY UPDATED \");\r\n          setFields({\r\n            title: \"\",\r\n            author: \"\",\r\n            description: \"\",\r\n            markdown: \"\",\r\n          });\r\n        } else {\r\n          console.log(\"FAILED TO UPDATE POST\");\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const createPostUpdateForm = () => {\r\n    return (\r\n      <div>\r\n        <form onSubmit={onSubmit}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"exampleInputPassword1\">Author</label>\r\n            <input\r\n              type=\"text\"\r\n              value={author}\r\n              className=\"form-control\"\r\n              placeholder=\"Enter author\"\r\n              onChange={handleChange(\"author\")}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"exampleInputPassword2\">Title</label>\r\n            <input\r\n              type=\"text\"\r\n              value={title}\r\n              className=\"form-control\"\r\n              placeholder=\"Title\"\r\n              onChange={handleChange(\"title\")}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"exampleInputPassword3\">Description</label>\r\n            <input\r\n              type=\"text\"\r\n              value={description}\r\n              className=\"form-control\"\r\n              placeholder=\"Description\"\r\n              onChange={handleChange(\"description\")}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"exampleInputPassword4\">Markdown</label>\r\n            <textarea\r\n              style={{ height: \"50vh\" }}\r\n              type=\"text\"\r\n              value={markdown}\r\n              className=\"form-control\"\r\n              placeholder=\"Content Markdown\"\r\n              onChange={handleChange(\"markdown\")}\r\n            />\r\n          </div>\r\n\r\n          <button className=\"btn btn-primary\" type=\"submit\">\r\n            Submit\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base title=\"Update Post Page\" description=\"Updating the posts\">\r\n      <div className=\"container text-left\">{createPostUpdateForm()}</div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default UpdatePost;\r\n","export const createPost = async ({ fields }, id) => {\r\n  try {\r\n    const response = await fetch(`/api/blog/${id}/create`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Accept\": \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(fields),\r\n    });\r\n    return response.json();\r\n  } catch (error) {\r\n    return console.log(error);\r\n  }\r\n};\r\n\r\nexport const createCategory = async (category) => {\r\n  try {\r\n    const response = await fetch(\"/api/category/create\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Accept\": \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(category),\r\n    });\r\n    console.log(response);\r\n    return response.json();\r\n  } catch (error) {\r\n    return console.log(error);\r\n  }\r\n};\r\n\r\nexport const getAllPosts = async () => {\r\n  try {\r\n    const response = await fetch(\"/api/blog\", {\r\n      method: \"GET\",\r\n    });\r\n    return response.json();\r\n  } catch (err) {\r\n    console.log(\"error :\", err);\r\n  }\r\n};\r\n\r\nexport const getCategories = async () => {\r\n  const abortController = new AbortController();\r\n  try {\r\n    const response = await fetch(\r\n      \"/api/allCategories\",\r\n      {\r\n        method: \"GET\",\r\n      },\r\n      { signal: abortController.signal }\r\n    );\r\n    return response.json();\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const getPostById = async (id) => {\r\n  try {\r\n    const response = await fetch(`/api/blog/${id}`, {\r\n      method: \"GET\",\r\n    });\r\n    console.log(response);\r\n    return response.json();\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const updatePost = async ({ fields }, id) => {\r\n  try {\r\n    const response = await fetch(`/api/blog/update/${id}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Accept\": \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(fields),\r\n    });\r\n    console.log(response);\r\n    return response.json();\r\n  } catch (err) {\r\n    return console.log(err);\r\n  }\r\n};\r\n\r\nexport const deletePost = async (id) => {\r\n  try {\r\n    const response = await fetch(`/api/blog/delete/${id}`, {\r\n      method: \"DELETE\",\r\n    });\r\n    return response.json();\r\n  } catch (err) {\r\n    return console.log(err);\r\n  }\r\n};\r\n\r\nexport const getCategoryById = async (id) => {\r\n  try {\r\n    const response = await fetch(`/api/category/${id}`, {\r\n      method: \"GET\",\r\n    });\r\n    return response.json();\r\n  } catch (err) {\r\n    return console.log(err);\r\n  }\r\n};\r\n\r\nexport const getCatePosts = async (id) => {\r\n  try {\r\n    const response = await fetch(`/api/category/${id}/posts`, {\r\n      method: \"GET\",\r\n    });\r\n    return response.json();\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nconst Navigation = () => (\r\n  <div className=\"bg-dark\">\r\n    <ul className=\"nav nav-tabs bd-dark\">\r\n      <li className=\"nav-item\">\r\n        <Link className=\"nav-link text-primary\" to=\"/\">\r\n          Home\r\n        </Link>\r\n      </li>\r\n      <li className=\"nav-item\">\r\n        <Link className=\"nav-link text-primary\" to=\"/admin/dashboard\">\r\n          A.Dashboard\r\n        </Link>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n);\r\n\r\nexport default withRouter(Navigation);\r\n","import React from \"react\";\r\nimport Navigation from \"../admin/Navigation\";\r\n\r\nconst Base = ({\r\n  title = \"My-Title\",\r\n  description = \"My description\",\r\n  className = \"bg-dark text-white p-4\",\r\n  children,\r\n}) => (\r\n  <div className=\"bg-dark\">\r\n    <Navigation />\r\n    <div>\r\n      <div className=\"jumbotron text-white bg-dark text-center\">\r\n        <h2 className=\"display-4\">{title}</h2>\r\n        <p className=\"lead\">{description}</p>\r\n        <div className={className}>{children}</div>\r\n      </div>\r\n      <footer className=\"bg-dark mt-auto py-3\">\r\n        <div className=\"container-fluid bg-success text-white text-center\">\r\n          <h4>If you have any quest,feel free to ask me </h4>\r\n          <button className=\"btn btn-warning bt-lg mb-3\">Click me </button>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Base;\r\n","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}"],"sourceRoot":""}